<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Day 10</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="todoList">
            <div class="headInput">
                <input type="text" placeholder="Enter your todo..." id="inputText">
                <button id="btn">Add</button>
            </div>
            <div class="bodyTodo">
                <ul class="list">
                </ul>
            </div>
    </div>
    <script>
        let getText = document.querySelector('#inputText')
        let btnSubmit = document.querySelector("#btn")
        let getShow = document.querySelector('.list')
        let save = document.querySelector('#save')


var count=0;
        btnSubmit.onclick = ()=>{
            if(getText.value!==''){
                let li = document.createElement('li')
                li.innerHTML = `
                           <div class="item">
                                <span onclick="done(this)" data-index="${count}">${getText.value}</span>
                                <i class="fas fa-trash" onclick="xoa(this)"></i>
                            </div>
                `
                getShow.appendChild(li)
                count++;
                getText.value = ''
            }
        }

        function done(e){
            e.classList.toggle('done')
        }

        function xoa(e){
             e.parentElement.parentElement.style.display= 'none'
        }
        

        setInterval(()=>{
            if(document.querySelector('.list').innerHTML.length !== 0){
                let newZ = document.querySelector('.list').innerHTML
                localStorage.setItem('NewTodo',JSON.stringify(newZ))
            }
        },100)

        function showAll(){
            let newArray = JSON.parse(localStorage.getItem('NewTodo'))
            getShow.innerHTML = newArray
        }
       

        showAll()
        

    </script>
</body>
</html>